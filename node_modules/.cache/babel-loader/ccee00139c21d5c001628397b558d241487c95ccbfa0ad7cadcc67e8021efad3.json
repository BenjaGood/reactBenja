{"ast":null,"code":"var _jsxFileName = \"/Users/benjamingutierrezmendoza/Documents/reactPart/chatBot---react/src/Screens/homeScreenManager.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { collection, getDocs, doc } from 'firebase/firestore';\nimport { firestore, auth } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomeScreenManager({\n  username\n}) {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchAllTasks = async () => {\n      try {\n        const user = auth.currentUser;\n        if (user) {\n          const tasksRef = collection(firestore, 'tasks');\n          const tasksSnapshot = await getDocs(tasksRef);\n          let allTasks = [];\n          for (let userDoc of tasksSnapshot.docs) {\n            const userEmail = userDoc.id;\n            const userTasksRef = collection(firestore, 'tasks', userEmail, 'user_tasks');\n            const userTasksSnapshot = await getDocs(userTasksRef);\n            const userTasks = userTasksSnapshot.docs.map(doc => ({\n              ...doc.data(),\n              email: userEmail\n            }));\n            allTasks = [...allTasks, ...userTasks];\n          }\n          setTasks(allTasks);\n        }\n      } catch (error) {\n        console.error(\"Error fetching tasks:\", error);\n        setError('Error fetching tasks.');\n      }\n    };\n    fetchAllTasks();\n  }, []);\n  const groupTasksByUser = () => {\n    const groupedTasks = tasks.reduce((acc, task) => {\n      if (!acc[task.email]) {\n        acc[task.email] = [];\n      }\n      acc[task.email].push(task);\n      return acc;\n    }, {});\n    return groupedTasks;\n  };\n  const groupedTasks = groupTasksByUser();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Bienvenido a la p\\xE1gina de inicio para MANAGER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\xA1Has iniciado sesi\\xF3n correctamente, \", username, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Tareas de Todos los Usuarios:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this), Object.keys(groupedTasks).length > 0 ? Object.keys(groupedTasks).map((userEmail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"USUARIO: \", userEmail.split('@')[0]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Correo: \", userEmail]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: groupedTasks[userEmail].map((task, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [task.description, \" - Due on \", task.due_date, \" - \", task.priority, \" Priority\"]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No hay tareas disponibles.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeScreenManager, \"mUY3UIxV7kMIC0enHxY7PEoVTBU=\");\n_c = HomeScreenManager;\nexport default HomeScreenManager;\nvar _c;\n$RefreshReg$(_c, \"HomeScreenManager\");","map":{"version":3,"names":["React","useEffect","useState","collection","getDocs","doc","firestore","auth","jsxDEV","_jsxDEV","HomeScreenManager","username","_s","tasks","setTasks","error","setError","fetchAllTasks","user","currentUser","tasksRef","tasksSnapshot","allTasks","userDoc","docs","userEmail","id","userTasksRef","userTasksSnapshot","userTasks","map","data","email","console","groupTasksByUser","groupedTasks","reduce","acc","task","push","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","Object","keys","length","index","split","i","description","due_date","priority","_c","$RefreshReg$"],"sources":["/Users/benjamingutierrezmendoza/Documents/reactPart/chatBot---react/src/Screens/homeScreenManager.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { collection, getDocs, doc } from 'firebase/firestore';\nimport { firestore, auth } from '../firebase';\n\nfunction HomeScreenManager({ username }) {\n  const [tasks, setTasks] = useState([]);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchAllTasks = async () => {\n      try {\n        const user = auth.currentUser;\n        if (user) {\n          const tasksRef = collection(firestore, 'tasks');\n          const tasksSnapshot = await getDocs(tasksRef);\n          let allTasks = [];\n\n          for (let userDoc of tasksSnapshot.docs) {\n            const userEmail = userDoc.id;\n            const userTasksRef = collection(firestore, 'tasks', userEmail, 'user_tasks');\n            const userTasksSnapshot = await getDocs(userTasksRef);\n            const userTasks = userTasksSnapshot.docs.map(doc => ({\n              ...doc.data(),\n              email: userEmail\n            }));\n            allTasks = [...allTasks, ...userTasks];\n          }\n          \n          setTasks(allTasks);\n        }\n      } catch (error) {\n        console.error(\"Error fetching tasks:\", error);\n        setError('Error fetching tasks.');\n      }\n    };\n\n    fetchAllTasks();\n  }, []);\n\n  const groupTasksByUser = () => {\n    const groupedTasks = tasks.reduce((acc, task) => {\n      if (!acc[task.email]) {\n        acc[task.email] = [];\n      }\n      acc[task.email].push(task);\n      return acc;\n    }, {});\n\n    return groupedTasks;\n  };\n\n  const groupedTasks = groupTasksByUser();\n\n  return (\n    <div>\n      <h1>Bienvenido a la página de inicio para MANAGER</h1>\n      <p>¡Has iniciado sesión correctamente, {username}!</p>\n      <h2>Tareas de Todos los Usuarios:</h2>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {Object.keys(groupedTasks).length > 0 ? (\n        Object.keys(groupedTasks).map((userEmail, index) => (\n          <div key={index}>\n            <h3>USUARIO: {userEmail.split('@')[0]}</h3>\n            <p>Correo: {userEmail}</p>\n            <ul>\n              {groupedTasks[userEmail].map((task, i) => (\n                <li key={i}>\n                  {task.description} - Due on {task.due_date} - {task.priority} Priority\n                </li>\n              ))}\n            </ul>\n          </div>\n        ))\n      ) : (\n        <p>No hay tareas disponibles.</p>\n      )}\n    </div>\n  );\n}\n\nexport default HomeScreenManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}